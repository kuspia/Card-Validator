<!DOCTYPE html>
<html lang="en" >
<head>


  <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
            rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
            crossorigin="anonymous">


  <title>Card-Validator</title>
  <meta name="description" content="Free web tool to validate the credit card to avoid fraudlent activities.">
  <meta name="author" content="Kushagra Shukla">

  <link rel="stylesheet" href="./style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>


  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
<link rel="icon" href="img/favicon.ico" type="image/x-icon">
    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
     integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    
</head>
<body>


<div class="bg-image img1"></div>
<div class="bg-text">Card Validator</div>



<div class="h2">
Enter Credit or Debit Card Number.
<br>
  <div class="popup" onclick="myFunction()">Is it safe?
  <span class="popuptext" id="myPopup">Yes, We don't store any personal data.</span>
</div>
</div>


<div class="imgg">
<center>
    <img src="./img/card.png"
onmouseover="this.src='./img/valid.png'"
onmouseout="this.src='./img/card.png'"  height="300" width="250"
border="0" alt=""/>

</center>
</div>



<!--
<div  class="myDIV">


 <div class="popup" onclick="fn"> <img class="poin" src="./img/i.png" height="40" width="40" >
  <span class="popuptext" id="fnn">Yes, We don't store any personal data.</span>
</div>


    <p >

    Whenever fraudulent cards are used,
    the merchant loses if too many fraudulent transactions occur, incurring higher processing fees, expensive chargebacks,
    or even losing your merchant account and your ability to do business.
    <br>
    Hence one can mitigate these risks with the help of this tool, by validating the card number before processing for any transactions.
  </p>

</div>
-->




<div class="card-checker">

<input type="text" class="cc" placeholder="XXXX XXXX" />

 

<script>
  
  function myFunction() {
  var popup = document.getElementById("myPopup");
  popup.classList.toggle("show");
}

function fn() {
  var popup = document.getElementById("fnn");
  popup.classList.toggle("show");
}

function checkLuhn(input) { // returns 0 or 1 , 1 means luhn satisfied else 0
	var sum = 0;
	var numdigits = input.length;
	var parity = numdigits % 2;
	for(var i=0; i < numdigits; i++) {
		var digit = parseInt(input.charAt(i))
		if(i % 2 == parity) digit *= 2;
		if(digit > 9) digit -= 9;
		sum += digit;
	}
	return (sum % 10) == 0;
};
function detectCard(input) {
	var typeTest = 'undefined',
		ltest1 = 16,
		ltest2 = 16;
	if(/^4/.test(input)){
		typeTest = 'visa';
		ltest1 = 13;
	} else if (/^5[1-5]/.test(input)){
		typeTest = 'mastercard';
	} else if (/^3[4-7]/.test(input)){
		typeTest = 'amex';
		ltest1 = 15;
    ltest2 = 15;
  } else if(/^6(011|4[4-9]|5)/.test(input)){
		typeTest = 'discover';
	}
	return [typeTest,ltest1,ltest2];
}


$('input.cc').keyup(function(){ // as soon as key is up this will execute
	var val = this.value, // var will contain value in the box field
      val = val.replace(/[^0-9]/g, ''), // replace all non numeric charactyer with nothing
		detected = detectCard(val),
		errorClass = '',
    	luhnCheck = checkLuhn(val), // 1 - valid  0 - not valid
		valueCheck = (val.length == detected[1] || val.length == detected[2]); // checking the length of the cc number
  console.log(valueCheck);
	if(luhnCheck && valueCheck) {
		errorClass = 'verified';
      console.log(status);
      
	} else if(valueCheck || val.length > detected[2])
	{
		errorClass = 'error';
  }
  
	$(this).attr('class', 'cc ' + detected[0] + ' ' + errorClass);
});
  </script>

</div>






<div class="footer">
  <p>Copyright ©️ 2021. All rights reserved. Designed and Developed by <span style="color: red;">~kuspia</span></p>
    <div class="flex-container">
        <div class="flex">
            <a href="https://www.youtube.com/c/KARTSmixFun" target="_blank">
                <i class="fa fa-youtube"></i>
            </a>
        </div>

        <div class="flex">
            <a href="mailto:1kuspia@gmail.com" target="_blank">
                <i class="fa fa-envelope"></i>
            </a>
        </div>

        <div class="flex">
            <a href="https://github.com/kuspia/Card-Validator" target="_blank">
                <i class="fa fa-github"></i>
            </a>
        </div>
    </div>

</div>

</body>
</html>
